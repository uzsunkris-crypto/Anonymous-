<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Anonymous Newspaper Feed — Demo (No Borders)</title>
<style>
  :root{ --bg:#ffffff; --serif:"Times New Roman", Georgia, serif }
  html,body{height:100%;margin:0;background:var(--bg);font-family:var(--serif);-webkit-font-smoothing:antialiased;color:#000}/* Each section fills the viewport */ .section{height:100vh;box-sizing:border-box;display:flex;align-items:stretch;justify-content:center;padding:20px;}

/* Page uses CSS Grid to tile posts and always fill screen */ .page{width:100%;height:100%;display:grid;gap:10px;align-content:stretch;align-items:stretch}

/* News item: NO borders, NO boxes. Images and text sit on the page with whitespace only. */ .item{display:flex;flex-direction:column;overflow:hidden;position:relative;background:transparent} .item img{width:100%;height:auto;object-fit:cover;display:block} .text{padding:10px 8px 6px 8px;line-height:1.18;font-size:1.05rem;word-break:break-word;hyphens:auto}

/* Headlines like newspapers */ .headline{font-weight:700;font-size:1.35rem;line-height:1.05;margin-bottom:6px;} .body{font-size:0.95rem;color:#000}

/* Floating animation (gentle horizontal drift) */ @keyframes floatLR{0%{transform:translateX(var(--tx-start,-4px))}100%{transform:translateX(var(--tx-end,4px))}} .floating{animation-name:floatLR;animation-iteration-count:infinite;animation-direction:alternate;animation-timing-function:linear}

/* Carousel strip: horizontal scroll for that strip only */ .carousel-strip{display:flex;align-items:stretch;overflow-x:auto;overflow-y:hidden;padding-bottom:6px;scroll-snap-type:x mandatory} .carousel-strip .item{flex:0 0 calc(60vw);height:calc(80vh);margin-right:18px;scroll-snap-align:center}

/* Make sure there's no outline/box-shadow/border anywhere */ *{box-sizing:border-box} img,div,article,section{outline:0;border:0}

/* Responsive text scaling */ @media (max-width:1000px){ .headline{font-size:1.15rem} .text{font-size:0.98rem} } @media (max-width:600px){ .headline{font-size:1.05rem} .text{font-size:0.92rem} }

/* Hide scrollbar in Firefox/Edge lightly but keep usability */ .carousel-strip::-webkit-scrollbar{height:8px} .carousel-strip::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.12);border-radius:4px}

/* Accessibility helper - small overlay note */ .note{position:fixed;left:12px;bottom:12px;padding:8px 10px;background:rgba(255,255,255,0.9);font-family:Arial,Helvetica,sans-serif;font-size:12px;border-radius:4px}

</style>
</head>
<body>
<div id="root"></div>
<div class="note">Demo: scroll vertically for new layouts. Some strips are horizontally scrollable. No borders — pure newspaper blocks.</div><script>
// Demo generator: produces 100+ posts and lays them into fullscreen sections.
// Key rules implemented:
// - Columns: 1..4
// - Rows: 1..5
// - Sections fill viewport completely using grid cells
// - Carousel sections (horizontal scroll) exist; vertical scroll loads new layouts
// - Floating: gentle left-right motion within each item but never leaves its cell
// - No borders or boxes — separation via whitespace only

const TOTAL_POSTS = 120; // generate a bit more than 100 to ensure full sections
const posts = [];
const root = document.getElementById('root');

// small corpus for headlines/body
const snippets = [
  'This is the text.', 'Someone posted this.', 'A new post.', "Someone's feelings...",
  'Another post with an image and text.', 'What someone posted...', 'One more post.', 'A post with a text.',
  'Thoughts on today.', 'Quiet morning.', 'Woke up thinking.', 'A short poem.', 'A tiny confession.', 'A small rant.'
];

function randInt(min,max){ return Math.floor(min + Math.random()*(max-min+1)); }
function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

// Create simple SVG placeholder images so page is self-contained
function makeSVG(title,w=1200,h=800,gray=200){
  const bg = `rgb(${gray},${gray},${gray})`;
  const fg = '#ffffff';
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'><rect width='100%' height='100%' fill='${bg}'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Times New Roman, Georgia, serif' font-size='48' fill='${fg}'>${escapeHtml(title)}</text></svg>`;
  return 'data:image/svg+xml;utf8,' + encodeURIComponent(svg);
}
function escapeHtml(s){ return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

// generate posts
for(let i=0;i<TOTAL_POSTS;i++){
  const headline = pick(snippets);
  const paragraph = Array.from({length: randInt(6,18)}).map(()=>pick(snippets)).join(' ');
  const gray = randInt(40,200);
  const img = makeSVG('Img '+(i+1),1200,800,gray);
  posts.push({id:i,headline,paragraph,img});
}

// Build fullscreen sections until we consume posts
let pointer = 0;
let sectionIndex = 0;
while(pointer < posts.length){
  const section = document.createElement('section');
  section.className = 'section';
  // strict black on white newspaper style
  section.style.background = '#ffffff';
  section.style.color = '#000000';

  // 20% chance this is a carousel strip
  const isCarousel = Math.random() < 0.2;
  if(isCarousel){
    // Carousel: horizontal row that the user can swipe; choose number of visible items 3..6
    const carousel = document.createElement('div');
    carousel.className = 'page carousel-strip';
    const count = Math.min(posts.length - pointer, randInt(4,8));
    for(let i=0;i<count;i++){
      const p = posts[pointer++];
      const el = createItem(p,true);
      applyFloating(el);
      carousel.appendChild(el);
    }
    section.appendChild(carousel);
  } else {
    // Grid layout: columns 1..4, rows 1..5, but ensure cells=columns*rows <= remaining posts by limiting
    let columns = randInt(1,4);
    let rows = randInt(1,5);
    // Adjust so we don't create a section larger than remaining posts unless we're near the end
    const remaining = posts.length - pointer;
    if(columns * rows > remaining && remaining >= 1){
      // try to find a pair that fits remaining (but still within min/max)
      let found = false;
      for(let c=4;c>=1 && !found;c--){
        for(let r=5;r>=1 && !found;r--){
          if(c*r <= remaining && c>=1 && c<=4 && r>=1 && r<=5){ columns=c; rows=r; found=true; }
        }
      }
      if(!found){ // if none found, cap cells to remaining by increasing rows/columns to 1xremaining up to 4x5
        // We'll set rows = Math.min(5, remaining); columns = Math.ceil(remaining / rows)
        rows = Math.min(5, remaining);
        columns = Math.min(4, Math.ceil(remaining / rows));
      }
    }

    const page = document.createElement('div');
    page.className = 'page';
    page.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;
    page.style.gridTemplateRows = `repeat(${rows}, 1fr)`;

    const cells = columns * rows;
    for(let i=0;i<cells;i++){
      // ensure we always place an item; if posts run out, generate a small filler from existing snippets
      const p = (pointer < posts.length) ? posts[pointer++] : {id:'f'+i, headline:pick(snippets), paragraph:pick(snippets), img:makeSVG('Filler',800,600,randInt(80,200))};
      const el = createItem(p,false);
      applyFloating(el);
      page.appendChild(el);
    }
    section.appendChild(page);
  }

  root.appendChild(section);
  sectionIndex++;
}

// Create an item element — image optional
function createItem(post, large){
  const art = document.createElement('article');
  art.className = 'item floating';

  // Randomly decide whether this post is text-only or image+text (roughly 20% text-only)
  const textOnly = Math.random() < 0.18;
  if(!textOnly){
    const img = document.createElement('img'); img.src = post.img; img.alt = post.headline; art.appendChild(img);
  }
  const cont = document.createElement('div'); cont.className = 'text';
  const h = document.createElement('div'); h.className = 'headline'; h.textContent = post.headline;
  const p = document.createElement('div'); p.className = 'body'; p.textContent = post.paragraph;
  cont.appendChild(h); cont.appendChild(p);
  art.appendChild(cont);
  return art;
}

// Apply floating effect ensuring motion remains within cell by using small amplitude
function applyFloating(el){
  const duration = (6 + Math.random()*8).toFixed(2) + 's';
  const amp = (1 + Math.random()*6).toFixed(2); // px
  el.style.setProperty('--tx-start', `-${amp}px`);
  el.style.setProperty('--tx-end', `${amp}px`);
  el.style.animationDuration = duration;
  el.style.animationDelay = (-Math.random()*8)+'s';
}

</script></body>
</html>
